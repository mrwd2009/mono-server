"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.showConfusedError=void 0;const error_1=require("../lib/error"),config_1=__importDefault(require("../config/config")),showConfusedError=r=>{const o=r?.error;return async(s,n)=>{try{await n()}catch(e){if(config_1.default.isDev||e&&e.public)throw e;const t=s.i18n;throw o&&t.exists(o)?new error_1.GatewayError(t.t(o)):new error_1.GatewayError(t.t("common.internalError"))}}};exports.showConfusedError=showConfusedError,exports.default=exports.showConfusedError;