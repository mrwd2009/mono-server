"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,a){a===void 0&&(a=t);var n=Object.getOwnPropertyDescriptor(r,t);(!n||("get"in n?!r.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,n)}:function(e,r,t,a){a===void 0&&(a=t),e[a]=r[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&__createBinding(r,e,t);return __setModuleDefault(r,e),r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const router_1=__importDefault(require("@koa/router")),ctrl=__importStar(require("./controller")),router_2=require("../../config/router"),middleware_1=require("../../config/middleware"),router=new router_1.default({prefix:"/system"});router.get("/info",middleware_1.rbac.generalR,ctrl.getInfoHandler),router.get("/user/avatar",middleware_1.rbac.generalR,ctrl.getUserAvatarHandler),router.put("/user/profile",middleware_1.rbac.generalW,...ctrl.saveUserProfileHandler),router.post("/user/list",middleware_1.rbac.adminR,...ctrl.getUserListHandler),router.post("/user",middleware_1.rbac.adminW,...ctrl.createUserHandler),router.put("/user",middleware_1.rbac.adminW,...ctrl.editUserHandler),router.delete("/user",middleware_1.rbac.adminW,...ctrl.deleteUserHandler),router.post("/user/history/list",middleware_1.rbac.advancedR,...ctrl.getUserLoginHistoryListHandler),router.get("/permissions",middleware_1.rbac.adminR,ctrl.getPermissionsHandler),router.post("/permission",middleware_1.rbac.adminW,...ctrl.createPermissionHandler),router.put("/permission",middleware_1.rbac.adminW,...ctrl.updatePermissionHandler),router.put("/permission/reparent",middleware_1.rbac.adminW,...ctrl.reparentPermissionHandler),router.delete("/permission",middleware_1.rbac.adminW,...ctrl.deletePermissionHandler),router.get("/roles",middleware_1.rbac.adminR,ctrl.getRolesHandler),router.get("/available-roles",middleware_1.rbac.adminR,ctrl.getAvailableRolesHandler),router.post("/role",middleware_1.rbac.adminW,...ctrl.createRoleHandler),router.put("/role",middleware_1.rbac.adminW,...ctrl.updateRoleHandler),router.put("/role/reparent",middleware_1.rbac.adminW,...ctrl.reparentRoleHandler),router.delete("/role",middleware_1.rbac.adminW,...ctrl.deleteRoleHandler),router.get("/role/assigned-permissions",middleware_1.rbac.adminR,...ctrl.getAssignedPermissionsHandler),router.put("/role/assigned-permissions",middleware_1.rbac.adminW,...ctrl.assignPermissionsHandler),(0,router_2.registerRouter)(router);