"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1699],{1699:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var r=a(5863),n=a(710),i=a(1576),l=a(3802),s=a(2954),o=a(6179),c=a(4839),d=a(386),u=a(1786),p=a(1677),m=a(764),b=a(9310),g=a(8437);const P={annotations:[{key:"",value:""}],displayDescription:"",displayHeader:"",name:""};function y(){const{t:e}=(0,l.$G)(),{realm:t}=(0,m.PL)(),{config:a,save:y}=(0,g.Gr)(),E=(0,s.k6)(),Z=(0,s.UO)(),f=(0,i.cI)({defaultValues:P,shouldUnregister:!1}),h=(0,r.Ye)((()=>a?.groups?.find((({name:e})=>e===Z.name))),[a?.groups]);return(0,r.d4)((()=>{if(!h)return;const e=h.annotations?(t=h.annotations,Object.entries(t).reduce(((e,[t,a])=>"string"==typeof a?[...e,{key:t,value:a}]:[...e]),[])):[];var t;f.reset({...P,...h,annotations:e})}),[h]),r.ZP.createElement(r.ZP.Fragment,null,r.ZP.createElement(p.t,{titleKey:h?"attributes-group:editGroupText":"attributes-group:createGroupText",divider:!0}),r.ZP.createElement(n.NP,{variant:"light",onSubmit:f.handleSubmit((async e=>{if(!a)return;const r=[...a.groups??[]],n=h?r.indexOf(h):-1,i={...e,annotations:(l=e.annotations,Object.fromEntries(l.filter((e=>e.key.length>0)).map((e=>[e.key,e.value]))))};var l;-1===n?r.push(i):r[n]=i,await y({...a,groups:r})&&E.push((0,b.e)({realm:t,tab:"attributes-group"}))}))},r.ZP.createElement(c.N,{isHorizontal:!0,role:"manage-realm"},r.ZP.createElement(n.cw,{label:e("attributes-group:nameField"),fieldId:"kc-name",isRequired:!0,helperTextInvalid:e("common:required"),validated:f.errors.name?"error":"default",labelIcon:r.ZP.createElement(d.B,{helpText:"attributes-group:nameHint",fieldLabelId:"attributes-group:nameField"})},r.ZP.createElement(u.F,{ref:f.register({required:!0}),type:"text",id:"kc-name",name:"name",isReadOnly:!!h}),!!h&&r.ZP.createElement("input",{type:"hidden",ref:f.register(),name:"name"})),r.ZP.createElement(n.cw,{label:e("attributes-group:displayHeaderField"),fieldId:"kc-display-header",labelIcon:r.ZP.createElement(d.B,{helpText:"attributes-group:displayHeaderHint",fieldLabelId:"attributes-group:displayHeaderField"})},r.ZP.createElement(u.F,{ref:f.register(),type:"text",id:"kc-display-header",name:"displayHeader"})),r.ZP.createElement(n.cw,{label:e("attributes-group:displayDescriptionField"),fieldId:"kc-display-description",labelIcon:r.ZP.createElement(d.B,{helpText:"attributes-group:displayDescriptionHint",fieldLabelId:"attributes-group:displayDescriptionField"})},r.ZP.createElement(u.F,{ref:f.register(),type:"text",id:"kc-display-description",name:"displayDescription"})),r.ZP.createElement(n.wu,null,r.ZP.createElement(n.xv,{component:"h2"},e("attributes-group:annotationsText"))),r.ZP.createElement(n.cw,{label:e("attributes-group:annotationsText"),fieldId:"kc-annotations"},r.ZP.createElement(i.RV,{...f},r.ZP.createElement(o.R,{name:"annotations"}))),r.ZP.createElement(n.WK,null,r.ZP.createElement(n.zx,{variant:"primary",type:"submit"},e("common:save")),r.ZP.createElement(n.zx,{variant:"link",component:e=>r.ZP.createElement(s.rU,{...e,to:(0,b.e)({realm:t,tab:"attributes-group"})})},e("common:cancel"))))))}const E=()=>r.ZP.createElement(g.XP,null,r.ZP.createElement(y,null))}}]);