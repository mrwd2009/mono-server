"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4545],{4545:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var l=a(5863),n=a(2954),r=a(3802),c=a(1576),o=a(710),i=a(1677),m=a(4839),u=a(764),s=a(8798),d=a(4326),p=a(6827),h=a(386);const P=["basic-flow","client-flow"],f=()=>{const{t:e}=(0,r.$G)("authentication"),{control:t}=(0,c.Gc)(),[a,n]=(0,l.eJ)(!1);return l.ZP.createElement(o.cw,{label:e("flowType"),labelIcon:l.ZP.createElement(h.B,{helpText:"authentication-help:topLevelFlowType",fieldLabelId:"authentication:flowType"}),fieldId:"flowType"},l.ZP.createElement(c.Qr,{name:"providerId",defaultValue:P[0],control:t,render:({onChange:t,value:r})=>l.ZP.createElement(o.Ph,{toggleId:"flowType",onToggle:n,onSelect:(e,a)=>{t(a.toString()),n(!1)},selections:e(`top-level-flow-type.${r}`),variant:o.TM.single,"aria-label":e("flowType"),isOpen:a},P.map((t=>l.ZP.createElement(o.$m,{selected:t===r,key:t,value:t},e(`top-level-flow-type.${t}`)))))}))};var Z=a(370),w=a(5071);function E(){const{t:e}=(0,r.$G)("authentication"),t=(0,n.k6)(),{realm:a}=(0,u.PL)(),h=(0,c.cI)({defaultValues:{builtIn:!1,topLevel:!0}}),{handleSubmit:P,register:E}=h,{adminClient:y}=(0,s.K3)(),{addAlert:g}=(0,d.Z7)();return l.ZP.createElement(l.ZP.Fragment,null,l.ZP.createElement(i.t,{titleKey:"authentication:createFlow",subKey:"authentication-help:createFlow"}),l.ZP.createElement(o.NP,{variant:"light"},l.ZP.createElement(c.RV,{...h},l.ZP.createElement(m.N,{isHorizontal:!0,role:"manage-authorization",onSubmit:P((async l=>{try{const{id:n}=await y.authenticationManagement.createFlow(l);g(e("flowCreatedSuccess"),o.Ux.success),t.push((0,Z.s)({realm:a,id:n,usedBy:"notInUse"}))}catch(t){g(e("flowCreateError",{error:t.response?.data?.errorMessage||t}),o.Ux.danger)}}))},l.ZP.createElement("input",{name:"builtIn",type:"hidden",ref:E}),l.ZP.createElement("input",{name:"topLevel",type:"hidden",ref:E}),l.ZP.createElement(p.a,null),l.ZP.createElement(f,null),l.ZP.createElement(o.WK,null,l.ZP.createElement(o.zx,{"data-testid":"create",type:"submit"},e("common:create")),l.ZP.createElement(o.zx,{"data-testid":"cancel",variant:"link",component:e=>l.ZP.createElement(n.rU,{...e,to:(0,w.m)({realm:a})})},e("common:cancel")))))))}}}]);