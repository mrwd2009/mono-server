"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9494],{9494:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(5863),r=a(2954),l=a(3802),s=a(710),c=a(7973),u=a(192),o=a(8798),m=a(764),i=a(1586),p=a(2432),h=a(1677),P=a(8670);function g(){const{t:e}=(0,l.$G)("groups"),{adminClient:t}=(0,o.K3)(),{realm:a}=(0,m.PL)(),[g,Z]=(0,n.eJ)(""),[d,E]=(0,n.eJ)([]),[f,y]=(0,n.eJ)(0),k=()=>y((new Date).getTime()),{hasAccess:b}=(0,P.md)(),K=b("manage-users","query-clients"),v=()=>{""!==g&&(E([...d,g]),Z(""),k())},C=(e,t)=>{let a=[];for(const n of e){const e=`${t||""}${t?"/":""}${n.id}`;a.push({...n,link:e}),n.subGroups&&(a=[...a,...C(n.subGroups,e)])}return a};return n.ZP.createElement(n.ZP.Fragment,null,n.ZP.createElement(h.t,{titleKey:"groups:searchGroups"}),n.ZP.createElement(s.NP,{variant:s.Dk.light,className:"pf-u-p-0"},n.ZP.createElement(u.B,{key:f,isSearching:!0,toolbarItem:n.ZP.createElement(s.Eg,null,n.ZP.createElement(s.Kq,null,n.ZP.createElement(s.vO,{className:"pf-u-mb-sm"},n.ZP.createElement(s.BZ,null,n.ZP.createElement(s.oi,{name:"search","data-testid":"group-search",type:"search","aria-label":e("search"),placeholder:e("searchGroups"),value:g,onChange:e=>Z(e),onKeyDown:e=>{"Enter"===e.key&&v()}}),n.ZP.createElement(s.zx,{"data-testid":"search-button",variant:s.Wu.control,"aria-label":e("search"),onClick:v},n.ZP.createElement(c.W1,null)))),n.ZP.createElement(s.vO,null,n.ZP.createElement(s.Zn,null,d.map((e=>n.ZP.createElement(s.Af,{key:e,onClick:()=>(e=>{const t=d.indexOf(e);d.splice(t,1),E([...d]),k()})(e)},e))))))),ariaLabelKey:"groups:groups",isPaginated:!0,loader:async(e,a)=>{const n={first:e,max:a};let r=[];if(d[0]){r=await t.groups.find({...n,search:d[0]}),r=C(r);for(const e of d)r=r.filter((t=>t.name?.includes(e)))}return r},columns:[{name:"name",displayKey:"groups:groupName",cellRenderer:e=>K?n.ZP.createElement(r.rU,{key:e.id,to:`/${a}/groups/search/${e.link}`},e.name):n.ZP.createElement("span",null,e.name)},{name:"path",displayKey:"groups:path",cellRenderer:e=>n.ZP.createElement(p.g,{group:e})}],emptyState:n.ZP.createElement(i.M,{message:e("noSearchResults"),instructions:e("noSearchResultsInstructions"),hasIcon:!1})})))}}}]);