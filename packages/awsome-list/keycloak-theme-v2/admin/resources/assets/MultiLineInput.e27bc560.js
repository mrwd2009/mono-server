import{u as k,r as u,j as e,F,h as i,ag as M,ad as j,s as m,ae as d}from"./index.0cb2e516.js";import{a as V}from"./index.esm.6af887f8.js";import{M as x}from"./minus-circle-icon.de526f05.js";import{P as y}from"./plus-circle-icon.32cdf4dc.js";const T=({name:s,addButtonLabel:p,isDisabled:h=!1,defaultValue:f,...g})=>{const{t:o}=k(),{register:c,watch:I,setValue:n}=V(),l=I(s,f),a=Array.isArray(l)&&l.length!==0?l:[""],b=r=>{n(s,[...a.slice(0,r),...a.slice(r+1)])},C=()=>{n(s,[...a,""])};return u.exports.useEffect(()=>c(s),[c]),e(F,{children:a.map((r,t)=>i(u.exports.Fragment,{children:[i(M,{children:[e(j,{id:s+t,onChange:v=>{n(s,[...a.slice(0,t),v,...a.slice(t+1)])},name:`${s}[${t}]`,value:r,isDisabled:h,...g}),e(m,{variant:d.link,onClick:()=>b(t),tabIndex:-1,"aria-label":o("common:remove"),isDisabled:a.length===1,children:e(x,{})})]}),t===a.length-1&&i(m,{variant:d.link,onClick:C,tabIndex:-1,"aria-label":o("common:add"),"data-testid":"addValue",isDisabled:!r,children:[e(y,{})," ",o(p||"common:add")]})]},t))})};export{T as M};
