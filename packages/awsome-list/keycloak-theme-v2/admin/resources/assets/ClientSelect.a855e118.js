import{u as y,r as c,ay as O,a_ as _,j as t}from"./index.0cb2e516.js";import{a as j,C as q}from"./index.esm.6af887f8.js";import{H}from"./HelpItem.e440d5db.js";import{a as V}from"./FormGroup.3d5f3f16.js";import{S as $,b as A,a as S}from"./Select.5a6b39aa.js";const z=({name:s,label:o,helpText:h,defaultValue:x,namespace:d,isDisabled:C=!1,required:u=!1})=>{const{t:r}=y(d),{control:I,errors:v}=j(),[g,m]=c.exports.useState(!1),[p,F]=c.exports.useState([]),[n,T]=c.exports.useState(""),{adminClient:b}=O();_(()=>{const e={max:20};return n&&(e.clientId=n,e.search=!0),b.clients.find(e)},e=>F(e),[n]);const f=e=>[t(S,{value:"",children:r("common:none")},"empty"),...e.map(a=>t(S,{value:a.clientId},a.id))];return t(V,{label:r(o),isRequired:u,labelIcon:t(H,{helpText:r(h),fieldLabelId:`${d}:${o}`}),fieldId:s,validated:v[s]?"error":"default",helperTextInvalid:r("common:required"),children:t(q,{name:s,defaultValue:x||"",control:I,rules:u?{required:!0}:{},render:({onChange:e,value:a})=>t($,{toggleId:s,variant:A.typeahead,onToggle:l=>m(l),isOpen:g,isDisabled:C,selections:a,onFilter:(l,i)=>(T(i),f(p)),onSelect:(l,i)=>{e(i.toString()),m(!1)},"aria-label":r(o),children:f(p)})})})};export{z as C};
