import{a as g,C as x}from"./index.esm.6af887f8.js";import{H as u}from"./HelpItem.e440d5db.js";import{K as R}from"./KeycloakTextInput.b4d5b2db.js";import{u as h,j as t,aA as P,r as S,h as T,b0 as N,b1 as L,s as $,F as V,ag as j,bB as K}from"./index.0cb2e516.js";import{a as I}from"./FormGroup.3d5f3f16.js";import{K as B}from"./KeycloakTextArea.f5e2440a.js";import{S as A,b as F,a as G,c as k,C as D}from"./Select.5a6b39aa.js";import{u as E}from"./useToggle.8c992bea.js";import{A as _,S as v}from"./AddRoleMappingModal.4adc845a.js";import{K as H}from"./KeyValueInput.cb1ae3e8.js";import{C as U,L as q}from"./CodeEditor.16ebafa0.js";import{C as W}from"./ClientSelect.a855e118.js";import{M as z}from"./MultiLineInput.e27bc560.js";import{G as J}from"./GroupPickerDialog.f5430678.js";import{F as Q}from"./FileUpload.18e1e495.js";import{P as X}from"./PasswordInput.34ff6dd3.js";const Y=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{register:i}=g();return t(I,{label:n(o),labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(R,{id:e,"data-testid":e,isDisabled:d,ref:i(),type:"text",name:m(e),defaultValue:l?.toString()})})},Z=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{register:i}=g();return t(I,{label:n(o),labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(B,{id:e,"data-testid":e,isDisabled:d,ref:i(),name:m(e),defaultValue:l?.toString()})})},ee=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{control:i}=g();return t(I,{hasNoPaddingTop:!0,label:n(o),fieldId:e,labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),children:t(x,{name:m(e),"data-testid":e,defaultValue:l||!1,control:i,render:({onChange:c,value:s})=>t(P,{id:e,isDisabled:d,label:n("common:on"),labelOff:n("common:off"),isChecked:s==="true"||s===!0,onChange:f=>c(""+f),"data-testid":e,"aria-label":n(o)})})})},te=({name:e,label:o,helpText:a,defaultValue:l,options:d,isDisabled:n=!1})=>{const{t:i}=h("dynamic"),{control:c}=g(),[s,f]=S.exports.useState(!1);return t(I,{label:i(o),labelIcon:t(u,{helpText:i(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(x,{name:m(e),"data-testid":e,defaultValue:l||"",control:c,render:({onChange:y,value:p})=>t(A,{toggleId:e,isDisabled:n,onToggle:r=>f(r),onSelect:(r,b)=>{y(b),f(!1)},selections:p,variant:F.single,"aria-label":i(o),isOpen:s,children:d?.map(r=>t(G,{selected:r===p,value:r},r))})})})},M=e=>e?.includes(".")?e.split("."):["",e||""],oe=e=>e.client?.clientId?`${e.client.clientId}.${e.role.name}`:e.role.name,ne=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),[i,c]=E(),{control:s,errors:f}=g(),y=m(e);return t(I,{label:n(o),labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),validated:f[y]?"error":"default",helperTextInvalid:n("common:required"),fieldId:e,children:t(x,{name:y,defaultValue:l||"",typeAheadAriaLabel:"Select an action",control:s,render:({onChange:p,value:r})=>T(N,{children:[i&&t(_,{id:"id",type:"roles",name:e,onAssign:b=>p(oe(b[0])),onClose:c,isRadio:!0}),r!==""&&t(L,{children:t(k,{textMaxWidth:"500px",onClick:()=>p(""),children:t(v,{role:{name:M(r)[1]},client:{clientId:M(r)[0]}})})}),t(L,{children:t($,{onClick:c,variant:"secondary","data-testid":"add-roles",disabled:d,children:n("selectRole.label")})})]})})})},le=({name:e,label:o,helpText:a})=>{const{t:l}=h("dynamic");return t(I,{label:l(o),labelIcon:t(u,{helpText:l(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(H,{name:m(e)})})},ae=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{control:i}=g();return t(I,{label:n(o),labelIcon:t(u,{helpText:t("span",{style:{whiteSpace:"pre-wrap"},children:a}),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(x,{name:m(e),defaultValue:l,control:i,render:({onChange:c,value:s})=>t(U,{id:e,"data-testid":e,isReadOnly:d,type:"text",onChange:c,code:s,height:"600px",language:q.javascript})})})},ie=e=>t(W,{...e,name:m(e.name),namespace:"dynamic"}),de=({name:e,label:o,defaultValue:a,helpText:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),i=m(e);return t(I,{label:n(o),labelIcon:t(u,{helpText:n(l),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(z,{name:i,isDisabled:d,defaultValue:[a],addButtonLabel:n("addMultivaluedLabel",{fieldLabel:n(o).toLowerCase()})})})},re=({name:e,label:o,helpText:a,defaultValue:l,options:d,isDisabled:n=!1})=>{const{t:i}=h("dynamic"),{control:c}=g(),[s,f]=S.exports.useState(!1);return t(I,{label:i(o),labelIcon:t(u,{helpText:i(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(x,{name:m(e),control:c,defaultValue:l?[l]:[],render:({onChange:y,value:p})=>t(A,{toggleId:e,"data-testid":e,isDisabled:n,chipGroupProps:{numChips:3,expandedText:i("common:hide"),collapsedText:i("common:showRemaining")},variant:F.typeaheadMulti,typeAheadAriaLabel:"Select",onToggle:r=>f(r),selections:p,onSelect:(r,b)=>{const C=b.toString();p.includes(C)?y(p.filter(O=>O!==C)):y([...p,C])},onClear:r=>{r.stopPropagation(),y([])},isOpen:s,"aria-label":i(o),children:d?.map(r=>t(G,{value:r},r))})})})},se=({name:e,label:o,helpText:a})=>{const{t:l}=h("dynamic"),[d,n]=S.exports.useState(!1),{control:i}=g();return t(x,{name:m(e),defaultValue:"",typeAheadAriaLabel:l("selectGroup"),control:i,render:({onChange:c,value:s})=>T(V,{children:[d&&t(J,{type:"selectOne",text:{title:"dynamic:selectGroup",ok:"common:select"},onConfirm:f=>{c(f?.[0].path),n(!1)},onClose:()=>n(!1),filterGroups:s}),t(I,{label:l(o),labelIcon:t(u,{helpText:l(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:T(j,{children:[t(D,{children:s&&t(k,{onClick:()=>c(void 0),children:s})}),t($,{id:"kc-join-groups-button",onClick:()=>n(!d),variant:"secondary","data-testid":"join-groups-button",children:l("selectGroup")})]})})]})})},ce=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{control:i}=g(),[c,s]=S.exports.useState(""),[f,y]=S.exports.useState(!1);return t(I,{label:n(o),labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(x,{name:m(e),control:i,defaultValue:l||"",render:({onChange:p,value:r})=>t(Q,{id:e,value:r,type:"text",filename:c,isDisabled:d,onFileInputChange:(b,C)=>s(C.name),onReadStarted:()=>y(!0),onReadFinished:()=>y(!1),onClearClick:()=>{p(""),s("")},isLoading:f,allowEditingUploadedText:!1,onChange:(b,C)=>{p(b),s(C)}})})})},pe=({name:e,label:o,helpText:a,defaultValue:l,isDisabled:d=!1})=>{const{t:n}=h("dynamic"),{register:i}=g();return t(I,{label:n(o),labelIcon:t(u,{helpText:n(a),fieldLabelId:`dynamic:${o}`}),fieldId:e,children:t(X,{id:e,"data-testid":e,isDisabled:d,ref:i(),name:m(e),defaultValue:l?.toString()})})},w={String:Y,Text:Z,boolean:ee,List:te,Role:ne,Script:ae,Map:le,Group:se,ClientList:ie,MultivaluedList:re,MultivaluedString:de,File:ce,Password:pe},me=e=>e in w,Fe=({properties:e,...o})=>t(V,{children:e.map(a=>{const l=a.type;if(me(l)){const d=w[l];return t(d,{...a,...o},a.name)}else console.warn(`There is no editor registered for ${l}`)})}),m=e=>K(`config.${e}`);export{Fe as D};
