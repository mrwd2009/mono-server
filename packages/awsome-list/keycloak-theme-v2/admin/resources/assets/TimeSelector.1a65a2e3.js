import{u as j,r as n,h as O,b0 as V,j as a,b1 as x,ad as $}from"./index.0cb2e516.js";import{S as F,b as U,a as k}from"./Select.5a6b39aa.js";const o=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],T=t=>o.reduce((i,l)=>t%l.multiplier===0&&i.multiplier<l.multiplier?l:i,o[0]),E=(t,i)=>{const l=T(t);return new Intl.NumberFormat(i,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(t/l.multiplier)},G=({value:t,units:i=["second","minute","hour","day"],onChange:l,className:r,min:y,menuAppendTo:g,...I})=>{const{t:p}=j("common"),M=n.exports.useMemo(()=>i.map(e=>o.find(s=>s.unit===e)),[i]),c=n.exports.useMemo(()=>o.find(e=>e.unit===i[0])?.multiplier,[i]),[d,u]=n.exports.useState(""),[b,m]=n.exports.useState(c),[f,S]=n.exports.useState(!1);n.exports.useEffect(()=>{const e=T(t).multiplier;t?(m(e),u(t/e)):(u(t),m(c))},[t]);const h=(e,s=b)=>{e!==""?(l(e*(s||1)),u(e)):l("")};return O(V,{hasGutter:!0,className:r,children:[a(x,{children:a($,{...I,type:"number","aria-label":"kc-time",min:y||0,value:d,className:`${r}-input`,onChange:e=>{h(e===""?e:parseInt(e))}})}),a(x,{id:`${r}-select-menu`,children:a(F,{variant:U.single,"aria-label":p("unitLabel"),className:`${r}-select`,onSelect:(e,s)=>{m(s),h(d,s),S(!1)},menuAppendTo:g,selections:[b],onToggle:()=>{S(!f)},isOpen:f,children:M.map(e=>a(k,{id:e.label,value:e.multiplier,children:p(e.label)},e.label))})})]})};export{G as T,E as t};
