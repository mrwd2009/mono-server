import{u as g,aw as x,V as y,ax as k,ay as A,az as S,r as V,h as l,F as I,j as e,P as T,aA as q,s,aB as E,aC as K,t as j}from"./index.0cb2e516.js";import{u as N,C as O}from"./index.esm.6af887f8.js";import{F as z}from"./FormAccess.bee4f1e0.js";import{J as B}from"./JsonFileUpload.41ab83b4.js";import{V as G}from"./ViewHeader.2586557f.js";import{K as H}from"./KeycloakTextInput.b4d5b2db.js";import{a as n,A as J}from"./FormGroup.3d5f3f16.js";import"./copy-icon.cf10e1f5.js";import"./HelpItem.e440d5db.js";import"./GridItem.0db472b0.js";import"./FileUploadForm.9e6f7b27.js";import"./FileUpload.18e1e495.js";import"./CodeEditor.16ebafa0.js";import"./EmptyStateBody.a0363fe4.js";import"./EmptyStateSecondaryActions.1a804d56.js";import"./Modal.6593dfcc.js";import"./Text.c38ffb52.js";function me(){const{t:a}=g("realm"),o=x(),{refresh:i,whoAmI:c}=y(),{refresh:d}=k(),{adminClient:u}=A(),{addAlert:p,addError:h}=S(),[f,b]=V.exports.useState(),{register:v,handleSubmit:R,control:w,setValue:C,formState:{errors:m}}=N({mode:"onChange"}),F=r=>{const t={id:"",realm:"",enabled:!0};E(r||t,C),b(r||t)};return l(I,{children:[e(G,{titleKey:"realm:createRealm",subKey:"realm:realmExplain"}),e(T,{variant:"light",children:l(z,{isHorizontal:!0,onSubmit:R(async r=>{try{await u.realms.create({...f,...K(r)}),p(a("saveRealmSuccess")),i(),await d(),o(j({realm:r.realm}))}catch(t){h("realm:saveRealmError",t)}}),role:"view-realm",isReadOnly:!c.canCreateRealm(),children:[e(B,{id:"kc-realm-filename",allowEditingUploadedText:!0,onChange:F}),e(n,{label:a("realmName"),isRequired:!0,fieldId:"kc-realm-name",validated:m.realm?"error":"default",helperTextInvalid:a("common:required"),children:e(H,{isRequired:!0,type:"text",id:"kc-realm-name",name:"realm",validated:m.realm?"error":"default",ref:v({required:!0})})}),e(n,{label:a("enabled"),fieldId:"kc-realm-enabled-switch",children:e(O,{name:"enabled",defaultValue:!0,control:w,render:({onChange:r,value:t})=>e(q,{id:"kc-realm-enabled-switch",name:"enabled",label:a("common:on"),labelOff:a("common:off"),isChecked:t,onChange:r,"aria-label":a("enabled")})})}),l(J,{children:[e(s,{variant:"primary",type:"submit",children:a("common:create")}),e(s,{variant:"link",onClick:()=>o(-1),children:a("common:cancel")})]})]})})]})}export{me as default};
