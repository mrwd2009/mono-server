import{b as q,i as $,a as J,c as Q,d as W,e as X,f as Y,u as L,g as K,r as f,j as e,P as v,h as a,k as Z,l as y,F as A,B as ee,m as z,n as re,K as ie,T as ae,t as D,o as se,L as b}from"./index.0cb2e516.js";import{T as E,H as S}from"./HelpItem.e440d5db.js";import{u as ne}from"./useLocaleSort.84ea7ec0.js";import{R as te,r as oe}from"./RoutableTabs.f3cff418.js";import{i as le,T as de,a as O,b as ce,c as F,d as j,e as w,f as T}from"./TableToolbar.c27bcd3c.js";import{E as he}from"./ExpandableSection.ed768772.js";import{E as me,a as pe}from"./EmptyStateBody.a0363fe4.js";import{T as ue}from"./Trans.ec4d13b3.js";import{T as C,a as N}from"./Tabs.3d61d369.js";import{G as be,a as _}from"./GridItem.0db472b0.js";import{C as G}from"./Card.32e78d5f.js";import{C as k}from"./CardTitle.42e61ef4.js";import{C as B}from"./CardBody.a2e5e179.js";import{D as M,a as I,b as g,c as x}from"./DescriptionListTerm.60563b13.js";import{L as P,a as R,b as U}from"./ListItem.f69883ba.js";import{T as H}from"./Text.c38ffb52.js";import"./star-icon.97692015.js";import"./check.51c67984.js";import"./FormGroup.3d5f3f16.js";import"./grip-vertical-icon.1b75ab8f.js";import"./Checkbox.2dc73ed3.js";import"./plus-icon.407671b4.js";import"./MenuList.288a98b4.js";function fe(r,n){var s=[];return q(r,function(c,t,h){n(c,t,h)&&s.push(c)}),s}function ve(r,n){var s=$(r)?J:fe;return s(r,Q(n))}var Te=W(function(r){return X(Y(r,1,le,!0))});const ge=Te,xe=()=>{const{t:r}=L("dashboard"),n=K(),[s,c]=f.exports.useState(""),[t,h]=f.exports.useState([]),m=f.exports.useMemo(()=>Object.entries(n.providers||[]).filter(([o])=>o.includes(s)),[s]),p=o=>{t.includes(o)?h(t.filter(d=>d!==o)):h([...t,o])};return e(v,{variant:"light",children:e(de,{inputGroupName:"search",inputGroupPlaceholder:r("common:search"),inputGroupOnEnter:c,children:a(O,{variant:"compact",children:[e(ce,{children:a(F,{children:[e(j,{width:20,children:r("spi")}),e(j,{children:r("providers")})]})}),e(w,{children:m.map(([o,{providers:d}])=>a(F,{children:[e(T,{children:o}),a(T,{children:[e("ul",{children:Object.entries(d).map(([l])=>e("li",{children:l},l))}),Object.entries(d).map(([l,{operationalInfo:u}])=>u?e(he,{isExpanded:t.includes(l),onToggle:()=>p(l),toggleText:t.includes(l)?r("showLess"):r("showMore"),children:e(O,{borders:!1,children:e(w,{children:Object.entries(u).map(([i,V])=>a(F,{children:[e(T,{children:i}),e(T,{children:V})]},i))})})},l):null).filter(Z)]})]},o))})]})})})};const Fe=()=>{const{t:r}=L("dashboard"),{realm:n}=y();return e(v,{variant:"light",children:a(me,{variant:"large",children:[e(ee,{src:z.resourceUrl+"/icon.svg",alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(E,{headingLevel:"h4",size:"3xl",children:r("welcome")}),e(E,{headingLevel:"h4",size:"4xl",children:n}),e(pe,{children:r("introduction")})]})})},Ie=()=>{const{t:r}=L("dashboard"),{realm:n}=y(),s=K(),c=re(),t=ne(),h=i=>d.includes(i),m=i=>s.profileInfo?.experimentalFeatures?.includes(i),p=i=>s.profileInfo?.previewFeatures?.includes(i),o=i=>!m(i)&&!p(i),d=f.exports.useMemo(()=>t(s.profileInfo?.disabledFeatures??[],i=>i),[s.profileInfo]),l=f.exports.useMemo(()=>t(ve(ge(s.profileInfo?.experimentalFeatures,s.profileInfo?.previewFeatures),i=>!h(i)),i=>i),[s.profileInfo]);if(Object.keys(s).length===0)return e(ie,{});const u=i=>oe({to:D({realm:n,tab:i}),history:c});return a(A,{children:[e(v,{variant:"light",children:a(ae,{className:"pf-u-mr-sm",children:[e(H,{component:"h1",children:r("realmName",{name:n})}),e(H,{children:a(ue,{t:r,i18nKey:"adminUiVersion",children:[e("strong",{children:"Admin UI version"}),{version:z.commitHash}]})})]})}),e(v,{variant:"light",className:"pf-u-p-0",children:a(te,{"data-testid":"dashboard-tabs",defaultLocation:D({realm:n,tab:"info"}),isBox:!0,mountOnEnter:!0,children:[e(C,{id:"info","data-testid":"infoTab",title:e(N,{children:r("realmInfo")}),...u("info"),children:e(v,{variant:"light",children:a(be,{hasGutter:!0,children:[e(_,{lg:2,sm:12,children:a(G,{className:"keycloak__dashboard_card",children:[e(k,{children:r("serverInfo")}),e(B,{children:e(M,{children:a(I,{children:[e(g,{children:r("version")}),e(x,{children:s.systemInfo?.version}),e(g,{children:r("product")}),e(x,{children:se(s.profileInfo?.name)})]})})})]})}),e(_,{lg:10,sm:12,children:a(G,{className:"keycloak__dashboard_card",children:[e(k,{children:r("profile")}),e(B,{children:a(M,{children:[a(I,{children:[a(g,{children:[r("enabledFeatures")," ",e(S,{fieldLabelId:"dashboard:enabledFeatures",helpText:"dashboard:infoEnabledFeatures"})]}),e(x,{children:e(P,{variant:R.inline,children:l.map(i=>a(U,{className:"pf-u-mb-sm",children:[i," ",m(i)?e(b,{color:"orange",children:r("experimental")}):null,p(i)?e(b,{color:"blue",children:r("preview")}):null]},i))})})]}),a(I,{children:[a(g,{children:[r("disabledFeatures")," ",e(S,{fieldLabelId:"dashboard:disabledFeatures",helpText:"dashboard:infoDisabledFeatures"})]}),e(x,{children:e(P,{variant:R.inline,children:d.map(i=>a(U,{className:"pf-u-mb-sm",children:[i," ",m(i)?e(b,{color:"orange",children:r("experimental")}):null,p(i)?e(b,{color:"blue",children:r("preview")}):null,o(i)?e(b,{color:"green",children:r("supported")}):null]},i))})})]})]})})]})})]})})}),e(C,{id:"providers","data-testid":"providersTab",title:e(N,{children:r("providerInfo")}),...u("providers"),children:e(xe,{})})]})})]})};function qe(){const{realm:r}=y(),n=r==="master";return a(A,{children:[!n&&e(Fe,{}),n&&e(Ie,{})]})}export{qe as default};
