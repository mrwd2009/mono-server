import{u as h,r as w,j as e,aw as g,l as F,ay as y,az as b,h as p,F as v,P as S,s as u,b4 as T,b3 as I,aY as d,aZ as A}from"./index.0cb2e516.js";import{a as C,C as x,u as V,F as L}from"./index.esm.6af887f8.js";import{V as H}from"./ViewHeader.2586557f.js";import{F as P}from"./FormAccess.bee4f1e0.js";import{N as j}from"./NameDescription.09ef155c.js";import{H as z}from"./HelpItem.e440d5db.js";import{a as N,A as O}from"./FormGroup.3d5f3f16.js";import{S as k,b as B,a as E}from"./Select.5a6b39aa.js";import"./Text.c38ffb52.js";import"./copy-icon.cf10e1f5.js";import"./GridItem.0db472b0.js";import"./KeycloakTextInput.b4d5b2db.js";import"./KeycloakTextArea.f5e2440a.js";import"./check.51c67984.js";import"./star-icon.97692015.js";const f=["basic-flow","client-flow"],G=()=>{const{t}=h("authentication"),{control:l}=C(),[r,o]=w.exports.useState(!1);return e(N,{label:t("flowType"),labelIcon:e(z,{helpText:"authentication-help:topLevelFlowType",fieldLabelId:"authentication:flowType"}),fieldId:"flowType",children:e(x,{name:"providerId",defaultValue:f[0],control:l,render:({onChange:c,value:n})=>e(k,{toggleId:"flowType",onToggle:o,onSelect:(a,i)=>{c(i.toString()),o(!1)},selections:t(`top-level-flow-type.${n}`),variant:B.single,"aria-label":t("flowType"),isOpen:r,children:f.map(a=>e(E,{selected:a===n,value:a,children:t(`top-level-flow-type.${a}`)},a))})})})};function ae(){const{t}=h("authentication"),l=g(),{realm:r}=F(),o=V({defaultValues:{builtIn:!1,topLevel:!0}}),{handleSubmit:c,register:n}=o,{adminClient:a}=y(),{addAlert:i}=b();return p(v,{children:[e(H,{titleKey:"authentication:createFlow",subKey:"authentication-help:createFlow"}),e(S,{variant:"light",children:e(L,{...o,children:p(P,{isHorizontal:!0,role:"manage-authorization",onSubmit:c(async m=>{try{const{id:s}=await a.authenticationManagement.createFlow(m);i(t("flowCreatedSuccess"),d.success),l(A({realm:r,id:s,usedBy:"notInUse"}))}catch(s){i(t("flowCreateError",{error:s.response?.data?.errorMessage||s}),d.danger)}}),children:[e("input",{name:"builtIn",type:"hidden",ref:n}),e("input",{name:"topLevel",type:"hidden",ref:n}),e(j,{}),e(G,{}),p(O,{children:[e(u,{"data-testid":"create",type:"submit",children:t("common:create")}),e(u,{"data-testid":"cancel",variant:"link",component:m=>e(T,{...m,to:I({realm:r})}),children:t("common:cancel")})]})]})})})]})}export{ae as default};
