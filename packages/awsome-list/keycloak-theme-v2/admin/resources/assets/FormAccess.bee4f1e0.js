import{_ as g,j as a,a4 as z,s as F,a6 as H,r as u,q as y,h as f,R as w,F as A,ad as J,aD as K,aE as M}from"./index.0cb2e516.js";import{C as Q}from"./index.esm.6af887f8.js";import{C as V}from"./copy-icon.cf10e1f5.js";import{b as X,F as Y,a as Z,A as ee}from"./FormGroup.3d5f3f16.js";import{d as te}from"./HelpItem.e440d5db.js";import{a as ie,G as ae}from"./GridItem.0db472b0.js";const d={button:"pf-c-button",clipboardCopy:"pf-c-clipboard-copy",clipboardCopyActions:"pf-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-c-clipboard-copy__group",clipboardCopyText:"pf-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-c-clipboard-copy__toggle-icon",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-theme-dark"},$=t=>{var{onClick:o,exitDelay:e=0,entryDelay:n=300,maxWidth:r="100px",position:s="top","aria-label":l="Copyable input",id:m,textId:p,children:C,variant:h="control"}=t,i=g(t,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant"]);return a(z,{trigger:"mouseenter focus click",exitDelay:e,entryDelay:n,maxWidth:r,position:s,"aria-live":"polite",aria:"none",content:a("div",{children:C}),children:a(F,{...Object.assign({type:"button",variant:h,onClick:o,"aria-label":l,id:m,"aria-labelledby":`${m} ${p}`},i),children:a(V,{})})})};$.displayName="ClipboardCopyButton";const G=t=>{var{onClick:o,id:e,textId:n,contentId:r,isExpanded:s=!1}=t,l=g(t,["onClick","id","textId","contentId","isExpanded"]);return a(F,{...Object.assign({type:"button",variant:"control",onClick:o,id:e,"aria-labelledby":`${e} ${n}`,"aria-controls":`${e} ${r}`,"aria-expanded":s},l),children:s?a(X,{"aria-hidden":"true"}):a(H,{"aria-hidden":"true"})})};G.displayName="ClipboardCopyToggle";class E extends u.exports.Component{constructor(o){super(o)}render(){const o=this.props,{className:e,children:n,onChange:r,isReadOnly:s,isCode:l}=o,m=g(o,["className","children","onChange","isReadOnly","isCode"]);return a("div",{...Object.assign({suppressContentEditableWarning:!0,className:y(d.clipboardCopyExpandableContent,e),onInput:p=>r(p.target.innerText,p),contentEditable:!s},m),children:l?a("pre",{children:n}):n})}}E.displayName="ClipboardCopyExpanded";E.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};const ne=(t,o)=>{const e=t.currentTarget.parentElement,n=document.createElement("textarea");n.value=o.toString(),e.appendChild(n),n.select(),document.execCommand("copy"),e.removeChild(n)};var j;(function(t){t.inline="inline",t.expansion="expansion",t.inlineCompact="inline-compact"})(j||(j={}));class _ extends u.exports.Component{constructor(o){super(o),this.timer=null,this.componentDidUpdate=(e,n)=>{e.children!==this.props.children&&this.updateText(this.props.children)},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=e=>{this.setState(n=>({expanded:!n.expanded}))},this.updateText=e=>{this.setState({text:e}),this.props.onChange(e)},this.render=()=>{const e=this.props,{isExpanded:n,onChange:r,isReadOnly:s,isCode:l,isBlock:m,exitDelay:p,maxWidth:C,entryDelay:h,switchDelay:i,onCopy:b,hoverTip:x,clickTip:k,textAriaLabel:v,toggleAriaLabel:L,variant:I,position:S,className:B,additionalActions:O}=e,P=g(e,["isExpanded","onChange","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","switchDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions"]),T="text-input-",U="toggle-",q="content-";return f("div",{...Object.assign({className:y(d.clipboardCopy,I==="inline-compact"&&d.modifiers.inline,m&&d.modifiers.block,this.state.expanded&&d.modifiers.expanded,B)},P),children:[I==="inline-compact"&&a(w,{prefix:"",children:c=>f(A,{children:[!l&&a("span",{className:y(d.clipboardCopyText),id:`${T}${c}`,children:this.state.text}),l&&a("code",{className:y(d.clipboardCopyText,d.modifiers.code),id:`${T}${c}`,children:this.state.text}),f("span",{className:y(d.clipboardCopyActions),children:[a("span",{className:y(d.clipboardCopyActionsItem),children:a($,{variant:"plain",exitDelay:p,entryDelay:h,maxWidth:C,position:S,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":x,onClick:D=>{this.timer&&(window.clearTimeout(this.timer),this.setState({copied:!1})),b(D,this.state.text),this.setState({copied:!0},()=>{this.timer=window.setTimeout(()=>{this.setState({copied:!1}),this.timer=null},i)})},children:this.state.copied?k:x})}),O&&O]})]})}),I!=="inline-compact"&&a(w,{prefix:"",children:c=>f(A,{children:[f("div",{className:y(d.clipboardCopyGroup),children:[I==="expansion"&&a(G,{isExpanded:this.state.expanded,onClick:this.expandContent,id:`${U}${c}`,textId:`${T}${c}`,contentId:`${q}${c}`,"aria-label":L}),a(J,{isReadOnly:s||this.state.expanded,onChange:this.updateText,value:this.state.text,id:`text-input-${c}`,"aria-label":v}),a($,{exitDelay:p,entryDelay:h,maxWidth:C,position:S,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":x,onClick:D=>{this.timer&&(window.clearTimeout(this.timer),this.setState({copied:!1})),b(D,this.state.text),this.setState({copied:!0},()=>{this.timer=window.setTimeout(()=>{this.setState({copied:!1}),this.timer=null},i)})},children:this.state.copied?k:x})]}),this.state.expanded&&a(E,{isReadOnly:s,isCode:l,id:`content-${c}`,onChange:this.updateText,children:this.state.text})]})})]})},this.state={text:Array.isArray(this.props.children)?this.props.children.join(""):this.props.children,expanded:this.props.isExpanded,copied:!1}}}_.displayName="ClipboardCopy";_.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:te.top,maxWidth:"150px",exitDelay:1600,entryDelay:300,switchDelay:2e3,onCopy:ne,onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null};const N={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"},R=t=>{var{hasGutter:o=!1,className:e="",children:n=null,component:r="div"}=t,s=g(t,["hasGutter","className","children","component"]);return a(r,{...Object.assign({},s,{className:y(N.stack,o&&N.modifiers.gutter,e)}),children:n})};R.displayName="Stack";const W=t=>{var{isFilled:o=!1,className:e="",children:n=null}=t,r=g(t,["isFilled","className","children"]);return a("div",{...Object.assign({},r,{className:y(N.stackItem,o&&N.modifiers.fill,e)}),children:n})};W.displayName="StackItem";const de=({children:t,role:o,fineGrainedAccess:e=!1,isReadOnly:n=!1,unWrap:r=!1,...s})=>{const{hasAccess:l}=K(),m=(C,h)=>u.exports.Children.map(C,i=>{if(!u.exports.isValidElement(i))return i;if(i.props){const b=i;if(i.type===Q)return u.exports.cloneElement(i,{...b.props,render:k=>{const v=b.props.render(k);return u.exports.cloneElement(v,{...v.props,...h})}});const x=m(b.props.children,h);return i.type===M?u.exports.cloneElement(i,{readOnly:h.isDisabled,children:x}):u.exports.cloneElement(i,i.type===Z||i.type===ie||i.type===ae||i.type===ee||i.type===_||i.type===R||i.type===W?{children:x}:{...h,children:x})}return i}),p=n||!l(o)&&!e;return f(A,{children:[!r&&a(Y,{...s,className:"keycloak__form "+(s.className||""),children:m(t,p?{isDisabled:p}:{})}),r&&m(t,p?{isDisabled:p}:{})]})};export{$ as C,de as F,R as S,W as a,_ as b};
