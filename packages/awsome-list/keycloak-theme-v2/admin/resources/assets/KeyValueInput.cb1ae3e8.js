import{_ as g,j as e,q as v,u as $,r as L,h as n,F as I,s as p}from"./index.0cb2e516.js";import{a as A,c as F,b}from"./index.esm.6af887f8.js";import{K as h}from"./KeycloakTextInput.b4d5b2db.js";import{F as d,a as o}from"./FlexItem.308d9f82.js";import{M as j}from"./minus-circle-icon.de526f05.js";import{P as C}from"./plus-circle-icon.32cdf4dc.js";const f={actionList:"pf-c-action-list",actionListGroup:"pf-c-action-list__group",modifiers:{icons:"pf-m-icons"}},y=s=>{var{children:t,isIconList:i,className:r=""}=s,l=g(s,["children","isIconList","className"]);return e("div",{...Object.assign({className:v(f.actionList,i&&f.modifiers.icons,r)},l),children:t})};y.displayName="ActionList";const k=s=>{var{children:t,className:i=""}=s,r=g(s,["children","className"]);return e("div",{...Object.assign({className:v("pf-c-action-list__item",i)},r),children:t})};k.displayName="ActionListItem";const M=({name:s})=>{const{t}=$("common"),{control:i,register:r}=A(),{fields:l,append:u,remove:w}=F({control:i,name:s}),m=b({control:i,name:s,defaultValue:[]}),N=m.every(({key:c,value:a})=>c.trim().length!==0&&a.trim().length!==0);return L.exports.useEffect(()=>{l.length||u({key:"",value:""},!1)},[l]),n(I,{children:[n(d,{direction:{default:"column"},children:[n(d,{children:[e(o,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e("strong",{children:t("key")})}),e(o,{grow:{default:"grow"},children:e("strong",{children:t("value")})})]}),l.map((c,a)=>n(d,{"data-testid":"row",children:[e(o,{grow:{default:"grow"},children:e(h,{name:`${s}[${a}].key`,ref:r(),placeholder:t("keyPlaceholder"),"aria-label":t("key"),defaultValue:c.key,"data-testid":`${s}[${a}].key`})}),e(o,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e(h,{name:`${s}[${a}].value`,ref:r(),placeholder:t("valuePlaceholder"),"aria-label":t("value"),defaultValue:c.value,"data-testid":`${s}[${a}].value`})}),e(o,{children:e(p,{variant:"link",title:t("removeAttribute"),isDisabled:m.length===1,onClick:()=>w(a),"data-testid":`${s}[${a}].remove`,children:e(j,{})})})]},c.id))]}),e(y,{children:e(k,{children:e(p,{"data-testid":`${s}-add-row`,className:"pf-u-px-0 pf-u-mt-sm",variant:"link",icon:e(C,{}),isDisabled:!N,onClick:()=>u({key:"",value:""}),children:t("addAttribute")})})})]})};export{k as A,M as K};
